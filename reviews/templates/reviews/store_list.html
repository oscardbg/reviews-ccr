<!-- . -->
{% extends 'base.html' %} {% load static %}
<!-- . -->
{% block title %}Tiendas{{block.super}}{% endblock %}
<!-- . -->
{% block main %}
<h1>Lista de tiendas</h1>
<div class="search">
   <form action="." method="get">
      <input
         type="text"
         name="storeTxt"
         placeholder="Nombre de la tienda"
         autofocus
      />
      <select name="categTxt">
         <option value="">Todas</option>
         {% for cat in categories %}
         <option value="{{cat.id}}">{{cat.name}}</option>
         {% endfor %}
      </select>
      <button type="submit">Buscar</button>
   </form>
</div>
<hr />
<a href=" {% url 'reviews:stores' %} ">Reset</a>
<hr />
<ul class="storeLst">
   {% for store in page_obj %}
   <li>
      <div class="logo">
         <img src=" {% static 'img/storeLogo.png' %} " alt="" />
      </div>
      <div class="info">
         <p>
            <a href=" {% url 'reviews:store' store.id %} " class="strName">
               {{store.name}}
            </a>
         </p>
         <p>{{store.category.name}}</p>
      </div>
      <div class="score">
         {% if store.totalScore == 0 %}
         <p>&theta;</p>
         {% else %}
         <p>{{store.totalScore|floatformat}}</p>
         {% endif %}
      </div>
   </li>
   {% endfor %}
</ul>

<ul class="pages">
   {% if page_obj.has_previous %}
   <li class="fst"><a href="?page=1"> &laquo; Primera</a></li>
   <li class="prev">
      <a href="?page={{page_obj.previous_page_number}} ">Anterior</a>
   </li>
   {% endif %}
   <li class="act">
      Página {{page_obj.number}} de {{page_obj.paginator.num_pages}}
   </li>
   {% if page_obj.has_next %}
   <li class="nxt">
      <a href="?page={{page_obj.next_page_number}} ">Siguiente</a>
   </li>
   <li class="lst">
      <a href="?page={{page_obj.paginator.num_pages}} ">Última &raquo;</a>
   </li>
   {% endif %}
</ul>
{% endblock %}
